# Track201902 レシピ管理アプリ

このプロジェクトは「Track試験」に提出するソースコード一式を管理するためのものである。

## DIについての説明
### メリット
 * コンポーネント同士が疎結合になる。DIにより容易にインターフェースベースのコンポーネントの作成が可能になる。
 * 疎結合になることでテストがしやすくなる。
 * シングルトンによる管理により、メモリの消費量を抑えることができる。

### 実装するにあたりどう実現したか
* SpringのDIコンテナへのBean登録は、アノテーションを用いて登録している。
* その際、@RestController、@Service、@Repositoryなどのステレオタイプアノテーションを適切な箇所に適用している。
* サードパーティのDI登録には、SpringBootのAutoConfigurationにより自動で登録している。
* SpringのDIコンテナからBean呼び出しに関しては、コンストラクタ・インジェクションにより実現している。
* コンストラクタ・インジェクションは以下の特徴を持つ。
  * 必須の依存関係
  * 不変の依存関係
  * 簡潔（一度に複数のパラメーターを渡す）
* Springの4.3以降は、コンストラクタが一つのみの場合は@Autowiredを省略できるため、省略している。

## ディレクトリ構成について
当プロジェクトのディレクトリ構成は次のようになっている。

* **trackproject/** プロジェクトルート
    * **pom.xml** 依存ライブラリを定義している
    * **mvnw** Unix、Linux用のMaven Wrapper
    * **mvnw.cmd** Windows用のMaven Wrapper
    * **Procfile** Herokuでの実行方法について定義している
    * **lombok.config** lombokに関する設定が記述されているファイル
    * **system.properties** Herokuでの実行環境について定義している
    * **readme.md** 当ファイル。プロジェクトの概要について説明する
    * **agile-report/AgileTestReport.key** アジャイルテストに関するレポート
    * **target/** ビルド時の成果物が配置される
    * **src/** ソースファイルのルート・ディレクトリ
        * **main/** デプロイする際に動作するソースのルート・ディレクトリ
            * **java/** Javaのコードが配置されている
            * **resources/** Java以外の設定ファイルなどが配置される
                * **application.properties** アプリケーションのデフォルト設定が記述されているプロパティファイル
                * **db/migration/** DBスキーマ定義のマイグレーションSQLが配置されている
                * **jp/co/softbank/trackproject/repository/mybatis/** Mybatisが実行するSQLを記載したXMLファイル
        * **test/** テスト用のソースコードが配置されるディレクトリ

## 当プロジェクトで使用しているライブラリについて
当プロジェクトで使用している主なライブラリ以下のとおり。

| ライブラリ名  | 概要                                           | 用途                                 |
|---------------|------------------------------------------------|--------------------------------------|
| Spring boot   | フレームワーク。アプリケーションコンテナを内蔵      | 設定の最小限化                               |
| Postgresql    | PostgreSQLのJDBCドライバを提供する              | PostgreSQLへ接続するため                     |
| Mybatis       | SQL文とオブジェクトを紐付ける機能を提供する        | データアクセスを完結にするため                  |
| Flyway        | DBマイグレーション機能を提供する                 | DBマイグレーション機能を使用するため             |
| DBUnit        | DBを操作するテストプログラムのための機能を提供する  | DBを操作するテストプログラムを開発を容易にするため |
| Commons-io    | java.ioパッケージを拡張する機能を提供する         | テスト時に静的ファイルをロードするため           |
| Devtools      | 自動リロードなどの開発補助機能を提供する           | 開発の効率化を図るため                         |
| Lombok        | Javaのボイラープレートコードを自動生成する         | ソースを完結に記述するため                     |
|